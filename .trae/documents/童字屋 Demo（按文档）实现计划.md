## Demo 目标

* 基于现有文档实现一个可用的安卓原型：手写识字 → 查询拼音/笔画/词组/例句；拍照选词/OCR（作为动态模块）；Apple 风格前端。

* 控制体积：首包 ≤30MB；OCR、笔顺动画与音频按需下载。

## 技术栈

* Android（Kotlin）+ Jetpack Compose + App Bundle（动态特性/Asset Pack）。

* 本地数据：预置 `SQLite`（FTS5 索引、页压缩）。

* 识别：

  * 手写识别：TFLite 轻量模型（可先用开源中文手写数字/字形分类模型做演示，后续替换）。

  * OCR：PaddleOCR 移动版（TFLite/NCNN，量化后 3–8MB），做成可选下载模块。

## Demo 范围（数据与资源）

* 核心字集：示例 200–300 字（覆盖多音与常见部首），支持查询与检索演示。

* 文本字典：包含拼音/部首/笔画/常用词组/例句（适配小学难度）。

* 笔顺：采用矢量（JSON/SVG path）为 50–80 个示例字以演示；其余字在首版不强制提供。

* 音频：按音节/声调复用，Demo 仅内置少量音节片段；其余走按需下载（可暂不启用）。

## 前端设计（Apple 风格）

* 首页：卡片入口（手写/拍照/搜索）、最近学习、今日生字。

* 手写页：大画布、候选条、撤销/清空、相似字提示（规则/简单模型）。

* 查询页：字卡（拼音/部首/笔画）、笔顺动画、词组与例句折叠卡、发音按钮。

* 拍照识字页：摄像预览、检测框叠加层、词/字两级选择、结果侧滑卡。

* 生字本：收藏/错题、复习进度与闯关入口（占位交互）。

## 架构与模块

* `app-core`：UI、导航、手写画布、查询逻辑、SQLite 访问层（Repository + FTS）。

* `feature-ocr`（动态特性）：OCR 视图与推理；首次进入拍照页时下载。

* `asset-pack`：矢量笔顺与音频（on-demand）；LRU 缓存与版本清单。

## 关键实现

* 手写画布：Compose Canvas 收集笔迹；24×24/32×32 灰度栅格化；Top‑N 候选展示。

* 数据查询：拼音/多音字合并；词组按频次与年级标签过滤；例句长度控制与标注关键词。

* 笔顺播放器：按路径分步动画、播放/暂停/重播。

* OCR：图片预处理→文本检测→中文识别→分词与候选框交互；默认端侧推理，云端兜底保留接口占位。

* 隐私：拍照默认本地推理，不上传；云端需显式授权开关（Demo 标注）。

## 体积预估（Demo）

* 文本字典（300 字）：约 0.2–0.5MB 安装（下载约 0.1–0.3MB）。

* 手写模型：3–10MB。

* 矢量笔顺（80 字×4–8KB）：约 0.3–0.6MB。

* OCR 模块：3–8MB（动态下载，不计入首包）。

* 首包合计：约 10–18MB；首次启用 OCR 额外下载 3–8MB。

## 里程碑

* W1：项目搭建、首页/手写页、SQLite 字典与查询页（基础功能跑通）。

* W2：笔顺动画播放器与矢量资源、相似字提示；UI细节与动效。

* W3：OCR 动态模块与拍照识字流程、分词与选词交互；按需下载与缓存。

* W4：生字本与简易闯关、弱网与降级策略、打包与体积优化。

## 交付物

* 可安装 Demo（AAB/APK）、源代码、示例字库与笔顺/音频资源包、说明文档（使用与体积/隐私声明）。

## 后续扩展

* 扩充至全年级 2500–3000 字；内容增量包与版本管理。

* 接入云端 AI（RAG）生成例句/讲解；严格标注与家长控制；纯离线模式保留。


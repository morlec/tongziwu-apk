## 产品目标
- 面向低年级小学生，支持手写识别汉字后查询拼音、笔画、常用词组、例句。
- 优先离线可用，保证课上/路上弱网环境下的学习体验。

## 核心功能
- 手写识别：画板输入，实时候选字；支持误写纠正与相似字提示。
- 基础查询：单字的拼音（含多音）、部首/笔画数、字形结构。
- 扩展内容：常用词组（搭配/近反义）、例句（贴合小学教材难度）。
- 发音与笔顺：标准普通话发音；笔顺动画（可选）。
- 学习体系：生字本、错题本、间隔复习、简易闯关。

## 技术方案
### 手写识别
- 方案A：本地 TFLite 模型（CNN/LSTM，候选 Top‑N）；延迟低、弱网可用。
- 方案B：在线 API（如云端手写识别），用于兜底；带缓存与退化策略。

### 数据来源与离线存储
- 字典数据（拼音/词组/例句）打包为 `SQLite` 预置库，启用 FTS5 索引与页级压缩。
- 笔顺动画优先用矢量（SVG/JSON path；MakeMeAHanzi 风格）以减小体积。
- 音频采用按音节/声调复用（而非每字独立音频）并用 `Opus` 编码。

### 架构与模块
- App Bundle + 动态特性模块：重资源（音频/动画）按需下载；核心字典离线。
- 资源层级：核心1K字内置；更多字与重资源走 Play Asset Delivery（on‑demand）。

## 包体积估算（扩展 1000 个常用汉字）
- 仅文本字典（拼音/词组/例句，UTF‑8，SQLite）：约 0.3–1.0 MB；APK/AAB 压缩后下载增量约 0.15–0.6 MB。
- 矢量笔顺（每字 3–8 KB 的 SVG/JSON）：约 3–8 MB。
- GIF/位图笔顺（每字 15–30 KB，128–256px）：约 15–30 MB（不推荐）。
- 示例图片（每字 2–8 KB 的小 PNG/WEBP，若需要）：约 2–8 MB。
- 发音音频：
  - 按音节/声调复用（约 400 基音×4声调≈1600片段，12–16 KB/片段，Opus）：总库约 15–25 MB；新增 1000 字通常不增加体积（复用既有片段）。
  - 若强制每字独立音频（8–30 KB/字）：约 8–30 MB（不建议）。
- 识别模型：类别增至多增加输出层参数，模型总体 3–15 MB；新增 1000 类通常增量 < 1 MB。
- 典型场景汇总：
  - 文本字典 + 矢量笔顺：约 3.5–9 MB 增量。
  - 再加示例图片：约 5.5–17 MB 增量。
  - 若再加每字独立音频：约 13.5–47 MB 增量；改为音节复用则不随字数线性增加。

## 体积优化措施
- 资源分层：核心文本离线，动画/音频走按需下载与缓存；首包控制在 20–40 MB。
- 压缩策略：`SQLite` 页压缩 + App Bundle 压缩；SVG/JSON 资源去冗余与 minify；音频用 `Opus 16k`。
- 资源复用：音频按音节复用；笔顺矢量复用相同部件模板；示例图片尽量以矢量或生成式替代。
- 构建优化：启用 `R8/ProGuard`、资源裁剪、`webp` 转换、密度分包（仅保留必要 `dpi`）。

## 里程碑
- M1 原型：手写识别 + 1K 字文本字典（离线），查询页与生字本（2–3 周）。
- M2 矢量笔顺：SVG/JSON 动画与笔顺播放器（1–2 周）。
- M3 音频与按需下载：音节库接入、动态特性模块与缓存（2 周）。
- M4 学习体系：错题本、复习算法、闯关与数据上报（2 周）。

## 结论（针对“扩展 1000 字会增多少”）
- 仅文本数据：下载体积约 +0.15–0.6 MB，安装体积约 +0.3–1.0 MB。
- 加矢量笔顺：总体增量约 +3–8 MB；GIF 会增至 +15–30 MB。
- 音频若按音节复用，1000 字增量几乎为 0；若每字独立音频则 +8–30 MB。